<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Promise</title>
</head>
<body>
    <h1>Promise</h1>

    <script>
        //Refactor using promise
        console.log("start");
        function getName(name)
        {
            return new Promise((resolve,reject)=>
            {
                setTimeout(() => {
                console.log("Inside Function");
                resolve(name);
            }, 3000);
            }
            )    
        }

        function getHobbies(name)
        {
            return new Promise((resolve,reject)=>
            {
                setTimeout(() => {
                console.log("Inside Hobbies Function");
                resolve(['cricket','Reading','Dancing']);
            }, 3000);
            }
            )   
        }

        
        //without catch
        // async function showHobby()
        // {
        //     const name = await getName('OBAID');
        //     const hobby = await getHobbies(name);
        //     console.log(name);
        //     console.log(hobby);
        // }
        
        //for catch error Handling
       
        async function showHobby()
        {
            try
            {
                const name = await getName('OBAID');
                const hobby = await getHobbies(name);
                console.log(name);
                console.log(hobby);
            }catch
                {
                    console.log("Could not Fetch Hobbies..")
                }
        }

        showHobby();
        console.log("End");

    </script>
</body>
</html>
<!-- 
    Async and Await:=>
        async=> This keyword is used to turn a function declaration to async funcion.
        A sync wait for promise.
 -->
 <!-- 
     js which executes on web server is nodejd
  -->